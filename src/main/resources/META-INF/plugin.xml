<idea-plugin>
    <id>com.misset.OMT</id>
    <name>OMT / ODT Language</name>
    <vendor email="tim.misset@live.com" url="https://github.com/timmisset/omt">Misset</vendor>

    <description>Plugin for the OPP specific languages OMT and ODT</description>
    <depends>com.intellij.modules.java</depends>
    <depends>com.intellij.modules.lang</depends>
    <extensions defaultExtensionNs="com.intellij">
        <!-- YAML extensions -->
        <!--    The YAML language is considered the language of the elements that are parsed by the YAML Parser, this is because the IElementType for the nodes
                has YAML as language and cannot be modified to be OMT for .omt files
                Therefore, certain extensions need to be hooked into the yaml language, not the OMT extension of yaml
                -->
        <completion.contributor implementationClass="com.misset.opp.omt.completion.OMTCompletions"
                                order="first" language="yaml"/>
        <psi.referenceContributor language="yaml"
                                  implementation="com.misset.opp.omt.OMTReferenceContributor"/>
        <!-- OMT Language -->
        <fileType name="OMT File" implementationClass="com.misset.opp.omt.OMTFileType" fieldName="INSTANCE"
                  language="OMT" extensions="omt"/>
        <lang.parserDefinition language="OMT"
                               implementationClass="com.misset.opp.omt.OMTParserDefinition"/>
        <postStartupActivity implementation="com.misset.opp.omt.IndexPrefixesStartupActivity"/>
        <!-- Annotations -->
        <annotator language="yaml" implementationClass="com.misset.opp.omt.annotations.OMTTaggedTypeAnnotator"/>

        <!-- Inspections -->
        <localInspection displayName="UnknownKeyInspection"
                         groupName="OMT"
                         language="OMT"
                         enabledByDefault="true"
                         level="ERROR"
                         implementationClass="com.misset.opp.omt.inspection.OMTUnkownKeysInspection"/>
        <localInspection displayName="OMTUnusedInspection"
                         groupName="OMT"
                         language="OMT"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.misset.opp.omt.inspection.OMTUnusedInspection"/>
        <localInspection displayName="OMTUnusedInspection"
                         groupName="OMT"
                         language="OMT"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.misset.opp.omt.inspection.OMTUnnecessaryWrappingInspection"/>
        <localInspection displayName="DuplicateVariableInspection"
                         groupName="OMT"
                         language="OMT"
                         enabledByDefault="true"
                         level="ERROR"
                         implementationClass="com.misset.opp.omt.inspection.OMTDuplicateVariableInspection"/>
        <localInspection displayName="MissingKeyInspection"
                         groupName="OMT"
                         language="OMT"
                         enabledByDefault="true"
                         level="ERROR"
                         implementationClass="com.misset.opp.omt.inspection.OMTMissingKeysInspection"/>
        <localInspection displayName="ValueInspection"
                         groupName="OMT"
                         language="OMT"
                         enabledByDefault="true"
                         level="ERROR"
                         implementationClass="com.misset.opp.omt.inspection.OMTValueInspection"/>
        <!-- ODT Language -->
        <fileType name="ODT File" implementationClass="com.misset.opp.odt.ODTFileType" fieldName="INSTANCE"
                  language="ODT" extensions="odt"/>
        <multiHostInjector implementation="com.misset.opp.odt.ODTMultiHostInjector"/>
        <lang.parserDefinition language="ODT"
                               implementationClass="com.misset.opp.odt.ODTParserDefinition"/>
        <lang.findUsagesProvider language="ODT" implementationClass="com.misset.opp.odt.ODTFindUsagesProvider"/>
        <lang.syntaxHighlighter language="ODT" implementationClass="com.misset.opp.odt.syntax.ODTSyntaxHighlighter"/>
        <colorSettingsPage implementation="com.misset.opp.odt.syntax.ODTColorSettingsPage"/>
        <postStartupActivity implementation="com.misset.opp.callable.builtin.LoadDocumentationStartupActivity"/>
        <lang.formatter language="ODT" implementationClass="com.misset.opp.odt.formatter.ODTFormattingModelBuilder"/>

        <!-- Completions -->
        <completion.contributor language="ODT"
                                implementationClass="com.misset.opp.odt.completion.ODTTraverseCompletion"/>

        <!-- Annotations -->
        <annotator implementationClass="com.misset.opp.odt.annotation.ODTHighlightingAnnotator" language="ODT"/>
        <annotator language="ODT" implementationClass="com.misset.opp.odt.annotation.ODTResolvableAnnotator"/>

        <lang.documentationProvider language="ODT"
                                    implementationClass="com.misset.opp.odt.documentation.ODTDocumentationProvider"/>

        <!-- Inspections -->
        <localInspection displayName="ODTUnusedInspection"
                         groupName="ODT"
                         language="ODT"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.misset.opp.odt.inspection.ODTUnusedInspection"/>
        <localInspection
                displayName="ODTRDFTraverseInspection"
                groupName="ODT"
                language="ODT"
                enabledByDefault="true"
                level="WARNING"
                implementationClass="com.misset.opp.odt.inspection.ODTResolvableInspection"/>

        <annotator language="ODT" implementationClass="com.misset.opp.odt.annotation.CodeAnnotatorUnresolvable"/>

        <!-- TTL Language -->
        <postStartupActivity implementation="com.misset.opp.ttl.LoadOntologyStartupActivity"/>

        <!-- JAVA -->
        <psi.referenceContributor language="JAVA"
                                  implementation="com.misset.opp.odt.psi.reference.ODTJavaDocReferenceContributor"/>
    </extensions>
    <depends>com.intellij.java</depends>

    <!-- please see https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html
         on how to target different products -->
    <depends>org.jetbrains.plugins.yaml</depends>

    <depends>com.intellij.modules.platform</depends>

    <actions>
        <!-- Add your actions here -->
    </actions>
</idea-plugin>
